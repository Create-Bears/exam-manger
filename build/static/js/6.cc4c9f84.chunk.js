webpackJsonp([6],{1147:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(37),r=n(0),i=(n.n(r),n(429)),o=n(227),s=n(21),d=(n.n(s),n(1281)),l=(n.n(d),i.l.Option),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={TypeList:[],classList:[],startValue:s().startOf(),endValue:s().startOf(),endOpen:!1,start_time:"",end_time:"",subject_id:"",exam_id:"",title:"",number:0,questionListData:[]},t.getList=function(){return Object(a.b)(t,void 0,void 0,function(){var e,t,n,r,i;return Object(a.e)(this,function(a){switch(a.label){case 0:return e=this.props.question,t=e.getQuestionSubject,n=e.getQuestionTypes,[4,t()];case 1:return r=a.sent(),[4,n()];case 2:return i=a.sent(),1===r.code&&this.setState({TypeList:r.data,classList:i.data}),[2]}})})},t.handleChange=function(e){var n,a=e.value,r=e.type;t.setState(((n={})[r]=a,n))},t.onChange=function(e,n){var a;t.setState(((a={})[e]=n,a),function(){t.setState({start_time:+s(t.state.startValue).format("x"),end_time:+s(t.state.endValue).format("x")},function(){console.log(t.state)})})},t.onStartChange=function(e){t.onChange("startValue",e)},t.onEndChange=function(e){t.onChange("endValue",e)},t.handleStartOpenChange=function(e){e||t.setState({endOpen:!0})},t.handleEndOpenChange=function(e){t.setState({endOpen:e})},t.handliTnput=function(e){var n,a=e.target,r=a.name,i=a.value;t.setState(((n={})[r]=i,n))},t.handliTnputNumber=function(e){t.setState({number:e})},t.handAddExam=function(){return Object(a.b)(t,void 0,void 0,function(){var e,t,n,r,o,s,d,l,m;return Object(a.e)(this,function(a){switch(a.label){case 0:return e=this.props.examManger.addExam,t=this.state,n=t.start_time,r=t.end_time,o=t.number,s=t.title,d=t.subject_id,l=t.exam_id,""!==n&&""!==r&&0!==o&&""!==s&&""!==d&&""!==l?[3,1]:(i.o.error("\u521b\u5efa\u8bd5\u9898\u5185\u5bb9\u672a\u586b\u5199\u5b8c\u5168,\u8bf7\u786e\u8ba4\uff01"),[3,3]);case 1:return[4,e({start_time:n,end_time:r,subject_id:d,exam_id:l,title:s,number:o})];case 2:1===(m=a.sent()).code&&(window.localStorage.setItem("content",JSON.stringify(m.data.questions)),i.o.success(m.msg),this.props.history.push("/home/exammanager/addExamList")),a.label=3;case 3:return[2]}})})},t}return Object(a.d)(t,e),t.prototype.componentDidMount=function(){this.getList(),console.log(s().startOf("day"))},t.prototype.render=function(){var e=this,t=this.state,n=t.TypeList,a=t.classList,o=t.startValue,s=t.endValue,d=t.endOpen,m=t.number,c=t.title;return r.createElement("div",null,r.createElement("h2",{className:"adduser-title"},"\u6dfb\u52a0\u8003\u8bd5"),r.createElement("div",{className:"examManage"},r.createElement("div",{className:"examManage-content"},r.createElement("div",{className:"examManage-item"},"*\u8bd5\u5377\u540d\u79f0:",r.createElement(i.g,{name:"title",value:c,onChange:this.handliTnput})),r.createElement("div",{className:"examManage-item"},r.createElement("p",null,"*\u9009\u62e9\u8003\u8bd5\u7c7b\u578b:"),r.createElement(i.l,{defaultValue:"",style:{width:120},onChange:function(t){return e.handleChange({value:t,type:"exam_id"})}},a.map(function(e,t){return r.createElement(l,{key:t,value:e.exam_id},e.exam_name)}))),r.createElement("div",{className:"examManage-item"},r.createElement("p",null,"*\u9009\u62e9\u8bfe\u7a0b:"),r.createElement(i.l,{defaultValue:"",style:{width:120},onChange:function(t){return e.handleChange({value:t,type:"subject_id"})}},n.map(function(e,t){return r.createElement(l,{key:t,value:e.subject_id},e.subject_text)}))),r.createElement("div",{className:"examManage-item"},r.createElement("p",null,"*\u8bbe\u7f6e\u9898\u91cf:"),r.createElement(i.h,{min:0,max:5,value:m,onChange:this.handliTnputNumber})),r.createElement("div",{className:"examManage-item"},r.createElement("p",null,"\u8003\u8bd5\u65f6\u95f4:"),r.createElement("div",{style:{display:"flex"}},r.createElement(i.c,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss",placeholder:"\u5f00\u59cb\u65f6\u95f4",value:o,onChange:this.onStartChange,onOpenChange:this.handleStartOpenChange}),r.createElement("p",{style:{padding:"3px 10px"}},"-"),r.createElement(i.c,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss",placeholder:"\u7ed3\u675f\u65f6\u95f4",value:s,onChange:this.onEndChange,open:d,onOpenChange:this.handleEndOpenChange}))),r.createElement("div",{className:"examManage-item"},r.createElement("button",{className:"btn",onClick:this.handAddExam},"\u521b\u5efa\u8bd5\u5377")))))},t=Object(a.c)([Object(o.b)("question","examManger"),o.c],t)}(r.Component);t.default=m},1281:function(e,t,n){var a=n(1282);"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!1,transform:void 0};n(1137)(a,r);a.locals&&(e.exports=a.locals)},1282:function(e,t,n){(e.exports=n(1136)(!0)).push([e.i,".adduser-title{padding:10px 20px;font-size:24px}.examManage{background:#fff;padding:24px;margin:0 0 20px;border-radius:10px}.examManage-content{width:33%}.examManage-item{font-size:14px;font-variant:tabular-nums;line-height:1.5;color:rgba(0,0,0,.65);-webkit-box-sizing:border-box;box-sizing:border-box;margin:0;padding:0;list-style:none;margin-bottom:24px;vertical-align:top}.btn{padding:15px 40px!important;border-radius:4px!important;border:0!important;font-size:14px!important;color:#fff!important;background:-webkit-gradient(linear,right top,left top,from(#4e75ff),to(#0139fd))!important;background:-webkit-linear-gradient(right,#4e75ff,#0139fd)!important;background:-o-linear-gradient(right,#4e75ff,#0139fd)!important;background:linear-gradient(-90deg,#4e75ff,#0139fd)!important}","",{version:3,sources:["E:/exam-manger/src/views/main/examManager/examManage/index.css"],names:[],mappings:"AAAA,eACI,kBAAmB,AACnB,cAAgB,CACnB,AAED,YACI,gBAA+B,AAC/B,aAAc,AACd,gBAAqB,AACrB,kBAAmB,CACtB,AAED,oBACI,SAAW,CACd,AACD,iBACI,eAAgB,AAChB,0BAA2B,AAC3B,gBAAiB,AACjB,sBAA2B,AAC3B,8BAA+B,AACvB,sBAAuB,AAC/B,SAAU,AACV,UAAW,AACX,gBAAiB,AACjB,mBAAoB,AACpB,kBAAoB,CACvB,AACD,KACI,4BAA6B,AAC7B,4BAA6B,AAC7B,mBAAoB,AACpB,yBAA0B,AAC1B,qBAAsB,AACtB,2FAA6F,AAC7F,oEAAqE,AACrE,+DAAgE,AAChE,4DAA8D,CACjE",file:"index.css",sourcesContent:[".adduser-title{\r\n    padding: 10px 20px;\r\n    font-size: 24px;\r\n}\r\n\r\n.examManage{\r\n    background: rgb(255, 255, 255);\r\n    padding: 24px;\r\n    margin: 0px 0px 20px;\r\n    border-radius: 10px\r\n}\r\n\r\n.examManage-content{\r\n    width: 33%;\r\n}\r\n.examManage-item{\r\n    font-size: 14px;\r\n    font-variant: tabular-nums;\r\n    line-height: 1.5;\r\n    color: rgba(0, 0, 0, 0.65);\r\n    -webkit-box-sizing: border-box;\r\n            box-sizing: border-box;\r\n    margin: 0;\r\n    padding: 0;\r\n    list-style: none;\r\n    margin-bottom: 24px;\r\n    vertical-align: top;\r\n}\r\n.btn{\r\n    padding: 15px 40px!important;\r\n    border-radius: 4px!important;\r\n    border: 0!important;\r\n    font-size: 14px!important;\r\n    color: #fff!important;\r\n    background: -webkit-gradient(linear,right top, left top,from(#4e75ff),to(#0139fd))!important;\r\n    background: -webkit-linear-gradient(right,#4e75ff,#0139fd)!important;\r\n    background: -o-linear-gradient(right,#4e75ff,#0139fd)!important;\r\n    background: linear-gradient(-90deg,#4e75ff,#0139fd)!important;\r\n}"],sourceRoot:""}])}});
//# sourceMappingURL=6.cc4c9f84.chunk.js.map