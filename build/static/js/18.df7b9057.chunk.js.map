{"version":3,"sources":["views/main/WillClass/examDetail/index.tsx"],"names":["Option","__WEBPACK_IMPORTED_MODULE_3_antd__","ExamDetail","_super","_this","apply","this","arguments","state","data","grade_id","grade_name","datas","examStudent","status","columns","title","dataIndex","render","text","record","__WEBPACK_IMPORTED_MODULE_1_react__","searchStudent","dataes","map","item","index","classroom","name","student_name","statues","start_time","end_time","successes","key","setState","getList","Object","__WEBPACK_IMPORTED_MODULE_0_tslib__","getClassManger","props","classmanger","examStudentList","examManger","result","_a","sent","results","exam","handleChange","value","console","log","handleChanges","prototype","examDetail","componentDidMount","style","margin","defaultValue","onChange","width","type","icon","onClick","dataSource","size","__WEBPACK_IMPORTED_MODULE_2_mobx_react__","__webpack_exports__"],"mappings":"oJAGQA,EAAAC,EAAA,EAAAD,OAQRE,EAAA,SAAAC,GAAA,SAAAD,IAAA,IAAAE,EAAA,OAAAD,KAAAE,MAAAC,KAAAC,YAAAD,YACIF,EAAAI,OACIC,QACAC,SAAU,GACVC,WAAY,GACZC,SACAC,eACAC,QAAS,eAAM,gBACfC,UAEQC,MAAO,eACPC,UAAW,cAGXD,MAAO,eACPC,UAAW,SAGXD,MAAO,2BACPC,UAAW,YAGXD,MAAO,2BACPC,UAAW,eAGXD,MAAO,2BACPC,UAAW,aAGXD,MAAO,qBACPC,UAAW,cAGXD,MAAO,eACPC,UAAW,UACXC,OAAQ,SAACC,EAAWC,GAAgB,OAChCC,EAAA,0BACIA,EAAA,4CASpBjB,EAAAkB,cAAgB,WACZ,IAAMC,EAASnB,EAAKI,MAAMK,YAAYW,IAAI,SAACC,EAAWC,GAClD,OAAItB,EAAKI,MAAME,WAAae,EAAKf,UAEzBiB,UAAWvB,EAAKI,MAAMG,WACtBiB,KAAMH,EAAKI,aACXC,QAAyB,IAAhBL,EAAKX,OAAe,eAAO,eACpCiB,WAAYN,EAAKM,WACjBC,SAAUP,EAAKO,SACfC,UAAW,IACXC,IAAKR,GAGF,KAGftB,EAAK+B,UACDZ,OAAQA,KAMhBnB,EAAAgC,QAAU,kBAAAC,OAAAC,EAAA,EAAAD,CAAAjC,OAAA,2FAGO,OAFLmC,EAAmBjC,KAAKkC,MAAMC,YAAWF,eACzCG,EAAoBpC,KAAKkC,MAAMG,WAAUD,iBACpC,EAAMH,YACL,OADVK,EAASC,EAAAC,QACC,EAAMJ,mBAAhBK,EAAUF,EAAAC,OACdxC,KAAK6B,UACD1B,KAAMmC,EAAOnC,KACbI,YAAakC,EAAQC,iBAG7B5C,EAAA6C,aAAe,SAACC,GACZC,QAAQC,IAAIF,IAEhB9C,EAAAiD,cAAgB,SAACH,GACb,OAAO9C,EAAK+B,UACRzB,SAAUwC,OAqDtB,OA1IyBb,OAAAC,EAAA,EAAAD,CAAAnC,EAAAC,GA4CrBD,EAAAoD,UAAAC,WAAA,SAAWpC,GACPgC,QAAQC,IAAIjC,EAAMb,KAAKkC,QAsB3BtC,EAAAoD,UAAAE,kBAAA,WACIlD,KAAK8B,WAoBFlC,EAAAoD,UAAApC,OAAP,WACI,IAAMT,EAAOH,KAAKE,MAAMI,MAExB,OACIS,EAAA,yBACIA,EAAA,uBAAOoC,OAASC,OAAQ,uBACpBrC,EAAA,0CACAA,EAAA,cAACpB,EAAA,GACG0D,aAAa,GACbC,SAAUtD,KAAK2C,aACfQ,OAASI,MAAO,MACfvD,KAAKE,MAAMM,OAAOU,IAAI,SAACC,EAAWC,GAC/B,OAAOL,EAAA,cAACrB,GAAOkC,IAAKR,GAAQD,OAIxCJ,EAAA,uBAAOoC,OAASC,OAAQ,uBACpBrC,EAAA,0CACAA,EAAA,cAACpB,EAAA,GACG0D,aAAa,GACbC,SAAUtD,KAAK+C,cACfI,OAASI,MAAO,MACfvD,KAAKE,MAAMC,KAAKe,IAAI,SAACC,GAClB,OACIJ,EAAA,cAACrB,GACGkC,IAAKT,EAAKf,SACVwC,MAAOzB,EAAKf,UACXe,EAAKd,gBAM1BU,EAAA,2BACIA,EAAA,cAACpB,EAAA,GACG6D,KAAK,UACLC,KAAK,SACLC,QAAS1D,KAAKgB,eAAa,iBAInCD,EAAA,cAACpB,EAAA,GACGwD,OAASC,OAAQ,cACjB3C,QAAST,KAAKE,MAAMO,QACpBkD,WAAYxD,EACZyD,KAAK,aArInBhE,EAAUmC,OAAAC,EAAA,EAAAD,EAFfA,OAAA8B,EAAA,EAAA9B,CAAO,cAAe,cACtB8B,EAAA,GACKjE,GAAN,CAAyBmB,EAAA,WA4IV+C,EAAA","file":"static/js/18.df7b9057.chunk.js","sourcesContent":["import * as React from 'react'\r\nimport { inject, observer } from 'mobx-react'\r\nimport { Table, Select, Button } from 'antd'\r\nconst { Option } = Select\r\ninterface Props {\r\n    classmanger: any\r\n    examManger: any\r\n}\r\n\r\n@inject('classmanger', 'examManger')\r\n@observer\r\nclass ExamDetail extends React.Component<Props> {\r\n    state = {\r\n        data: [],\r\n        grade_id: '',\r\n        grade_name: '',\r\n        datas: [],\r\n        examStudent: [],\r\n        status: ['未阅', '已阅'],\r\n        columns: [\r\n            {\r\n                title: '班级',\r\n                dataIndex: 'classroom'\r\n            },\r\n            {\r\n                title: '姓名',\r\n                dataIndex: 'name'\r\n            },\r\n            {\r\n                title: '阅卷状态',\r\n                dataIndex: 'statues'\r\n            },\r\n            {\r\n                title: '开始时间',\r\n                dataIndex: 'start_time'\r\n            },\r\n            {\r\n                title: '结束时间',\r\n                dataIndex: 'end_time'\r\n            },\r\n            {\r\n                title: '成才率',\r\n                dataIndex: 'successes'\r\n            },\r\n            {\r\n                title: '操作',\r\n                dataIndex: 'options',\r\n                render: (text: any, record: any) => (\r\n                    <span>\r\n                        <a>批卷</a>\r\n                    </span>\r\n                )\r\n            }\r\n        ]\r\n    }\r\n    examDetail(text: any) {\r\n        console.log(text, this.props)\r\n    }\r\n    searchStudent = () => {\r\n        const dataes = this.state.examStudent.map((item: any, index) => {\r\n            if (this.state.grade_id === item.grade_id) {\r\n                return {\r\n                    classroom: this.state.grade_name,\r\n                    name: item.student_name,\r\n                    statues: item.status === 0 ? '未判' : '已判',\r\n                    start_time: item.start_time,\r\n                    end_time: item.end_time,\r\n                    successes: '-',\r\n                    key: index\r\n                }\r\n            } else {\r\n                return ''\r\n            }\r\n        })\r\n        this.setState({\r\n            dataes: dataes\r\n        })\r\n    }\r\n    componentDidMount() {\r\n        this.getList()\r\n    }\r\n    getList = async () => {\r\n        const { getClassManger } = this.props.classmanger\r\n        const { examStudentList } = this.props.examManger\r\n        let result = await getClassManger()\r\n        let results = await examStudentList()\r\n        this.setState({\r\n            data: result.data,\r\n            examStudent: results.exam\r\n        })\r\n    }\r\n    handleChange = (value: any) => {\r\n        console.log(value)\r\n    }\r\n    handleChanges = (value: any) => {\r\n        return this.setState({\r\n            grade_id: value\r\n        })\r\n    }\r\n    public render() {\r\n        const data = this.state.datas\r\n\r\n        return (\r\n            <div>\r\n                <label style={{ margin: '10px 30px 20px 5px' }}>\r\n                    <span>状态</span>\r\n                    <Select\r\n                        defaultValue=\"\"\r\n                        onChange={this.handleChange}\r\n                        style={{ width: 200 }}>\r\n                        {this.state.status.map((item: any, index: any) => {\r\n                            return <Option key={index}>{item}</Option>\r\n                        })}\r\n                    </Select>\r\n                </label>\r\n                <label style={{ margin: '10px 30px 20px 5px' }}>\r\n                    <span>班级</span>\r\n                    <Select\r\n                        defaultValue=\"\"\r\n                        onChange={this.handleChanges}\r\n                        style={{ width: 200 }}>\r\n                        {this.state.data.map((item: any) => {\r\n                            return (\r\n                                <Option\r\n                                    key={item.grade_id}\r\n                                    value={item.grade_id}>\r\n                                    {item.grade_name}\r\n                                </Option>\r\n                            )\r\n                        })}\r\n                    </Select>\r\n                </label>\r\n                <label>\r\n                    <Button\r\n                        type=\"primary\"\r\n                        icon=\"search\"\r\n                        onClick={this.searchStudent}>\r\n                        查询\r\n                    </Button>\r\n                </label>\r\n                <Table\r\n                    style={{ margin: '30px 0 0 0' }}\r\n                    columns={this.state.columns}\r\n                    dataSource={data}\r\n                    size=\"middle\"\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ExamDetail\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/main/WillClass/examDetail/index.tsx"],"sourceRoot":""}