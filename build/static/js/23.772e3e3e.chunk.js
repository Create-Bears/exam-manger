webpackJsonp([23],{1143:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(38),a=s(0),o=(s.n(a),s(226)),r=s(426),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={classroom:[],visible:!1,classes:""},t.deleteClicks=function(e){return Object(n.b)(t,void 0,void 0,function(){var t,s;return Object(n.e)(this,function(n){switch(n.label){case 0:return t=this.state.classroom[e.key].room_id,[4,(0,this.props.classmanger.getDeleteClasses)({room_id:t})];case 1:return 1===(s=n.sent()).code?r.o.success(s.msg):r.o.error(s.msg),this.getList(),[2]}})})},t.handChange=function(e){t.setState({classes:e.target.value})},t.showModal=function(){t.setState({visible:!0})},t.hideModal=function(){t.AddClasses(),t.setState({visible:!1})},t.handleSubmit=function(e){e.preventDefault(),t.props.form.validateFields(function(e,t){e||console.log("Received values of form: ",t)})},t.AddClasses=function(){return Object(n.b)(t,void 0,void 0,function(){var e;return Object(n.e)(this,function(t){switch(t.label){case 0:return[4,(0,this.props.classmanger.getAddClasses)({room_text:this.state.classes})];case 1:return 1===(e=t.sent()).code?r.o.success(e.msg):r.o.error(e.msg),this.getList(),[2]}})})},t.getList=function(){return Object(n.b)(t,void 0,void 0,function(){var e;return Object(n.e)(this,function(t){switch(t.label){case 0:return[4,(0,this.props.classmanger.getClasses)()];case 1:return e=t.sent(),this.setState({classroom:e.data}),[2]}})})},t}return Object(n.d)(t,e),t.prototype.componentDidMount=function(){this.getList()},t.prototype.render=function(){var e=this,t=this.props.form.getFieldDecorator,s=[{title:"\u6559\u5ba4\u53f7",dataIndex:"classes"},{title:"",dataIndex:""},{title:"",dataIndex:""},{title:"option",key:"action",render:function(t,s){return a.createElement("span",null,a.createElement("a",{onClick:e.deleteClicks.bind(e,t)},"\u5220\u9664"))}}],n=this.state.classroom.map(function(e,t){return{key:t,classes:e.room_text}});return a.createElement("div",null,a.createElement("h1",{style:{fontSize:"18px",margin:"0 0 10px 0"}},"\u6559\u5ba4\u7ba1\u7406"),a.createElement("div",{className:"content"},a.createElement("div",{style:{marginBottom:"10px"}},a.createElement(r.a,{type:"primary",onClick:this.showModal},"+\u6dfb\u52a0\u6559\u5ba4"),a.createElement(r.k,{title:"\u521b\u5efa\u73ed\u7ea7",visible:this.state.visible,onOk:this.hideModal,onCancel:this.hideModal,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},a.createElement(r.e,{labelCol:{span:5},wrapperCol:{span:12},onSubmit:this.handleSubmit},a.createElement(r.e.Item,{label:"\u6559\u5ba4\u540d"},t("classes",{rules:[{required:!0,message:"Please input your classes!"}]})(a.createElement(r.g,{placeholder:"\u6559\u5ba4\u540d",onChange:this.handChange})))))),a.createElement("div",{style:{backgroundColor:"#fff"}},a.createElement(r.m,{columns:s,dataSource:n}))))},t=Object(n.c)([Object(o.b)("classmanger","question"),o.c],t)}(a.Component);t.default=r.e.create()(i)}});
//# sourceMappingURL=23.772e3e3e.chunk.js.map