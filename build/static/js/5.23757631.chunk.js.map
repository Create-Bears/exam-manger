{"version":3,"sources":["views/main/examManager/examManage/examManage.tsx","webpack:///./src/views/main/examManager/examManage/index.css?039f","views/main/examManager/examManage/index.css"],"names":["Option","__WEBPACK_IMPORTED_MODULE_2_antd__","ExamManage","_super","_this","apply","this","arguments","state","TypeList","classList","startValue","__WEBPACK_IMPORTED_MODULE_4_moment__","startOf","endValue","endOpen","start_time","end_time","subject_id","exam_id","title","number","questionListData","getList","Object","__WEBPACK_IMPORTED_MODULE_0_tslib__","_a","props","question","getQuestionSubject","getQuestionTypes","result","_b","sent","resultType","code","setState","data","handleChange","obj","value","type","onChange","field","format","console","log","onStartChange","onEndChange","handleStartOpenChange","open","handleEndOpenChange","handliTnput","e","target","name","handliTnputNumber","handAddExam","addExam","examManger","error","window","localStorage","setItem","JSON","stringify","questions","success","msg","history","push","prototype","componentDidMount","render","__WEBPACK_IMPORTED_MODULE_1_react__","className","defaultValue","style","width","map","item","index","key","exam_name","subject_text","min","max","display","showTime","placeholder","onOpenChange","padding","onClick","__WEBPACK_IMPORTED_MODULE_3_mobx_react__","__webpack_exports__","content","__webpack_require__","module","i","options","hmr","transform","locals","exports","version","sources","names","mappings","file","sourcesContent","sourceRoot"],"mappings":"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","file":"static/js/5.23757631.chunk.js","sourcesContent":["import * as React from 'react'\r\nimport { SinglePickerProps } from 'antd/lib/date-picker/interface.d'\r\nimport { Input, Select, InputNumber, DatePicker, message } from 'antd'\r\nimport { inject, observer } from 'mobx-react'\r\nimport * as moment from 'moment'\r\nimport './index.css'\r\n\r\n\r\nconst { Option } = Select;\r\ninterface Props {\r\n  question: any,\r\n  examManger: any,\r\n  history: any,\r\n  value?: SinglePickerProps\r\n}\r\n\r\n@inject('question', 'examManger')\r\n@observer\r\n\r\nclass ExamManage extends React.Component<Props> {\r\n  state = {\r\n    TypeList: [],\r\n    classList: [],\r\n    startValue: moment().startOf(),\r\n    endValue: moment().startOf(),\r\n    endOpen: false,\r\n    start_time: '',\r\n    end_time: '',\r\n    subject_id: '',\r\n    exam_id: '',\r\n    title: '',\r\n    number: 0,\r\n    questionListData: [],\r\n  }\r\n  componentDidMount() {\r\n    this.getList()\r\n    console.log(moment().startOf('day'))\r\n  }\r\n\r\n  getList = async () => {\r\n    const { getQuestionSubject, getQuestionTypes } = this.props.question;\r\n    const result = await getQuestionSubject();\r\n    const resultType = await getQuestionTypes();\r\n    if (result.code === 1) {\r\n      this.setState({\r\n        TypeList: result.data,\r\n        classList: resultType.data\r\n      })\r\n    }\r\n  }\r\n  handleChange = (obj: any) => {\r\n    let { value, type } = obj;\r\n    this.setState({\r\n      [type]: value\r\n    })\r\n  }\r\n  onChange = (field: any, value: any) => {\r\n    this.setState({\r\n      [field]: value,\r\n    }, () => {\r\n      this.setState({\r\n        start_time: +moment(this.state.startValue).format('x'),\r\n        end_time: +moment(this.state.endValue).format('x'),\r\n      }, () => {\r\n        console.log(this.state)\r\n      })\r\n    });\r\n  };\r\n\r\n  onStartChange = (value: any) => {\r\n    this.onChange('startValue', value);\r\n  };\r\n\r\n  onEndChange = (value: any) => {\r\n    this.onChange('endValue', value);\r\n  };\r\n\r\n  handleStartOpenChange = (open: any) => {\r\n    if (!open) {\r\n      this.setState({ endOpen: true });\r\n    }\r\n  };\r\n\r\n  handleEndOpenChange = (open: any) => {\r\n    this.setState({ endOpen: open });\r\n  };\r\n  handliTnput = (e: any) => {\r\n    let { name, value } = e.target;\r\n    this.setState({\r\n      [name]: value\r\n    })\r\n  }\r\n  handliTnputNumber = (value: any) => {\r\n    this.setState({\r\n      number: value\r\n    })\r\n  }\r\n  handAddExam = async () => {\r\n    let { addExam } = this.props.examManger;\r\n    let { start_time, end_time, number, title, subject_id, exam_id } = this.state;\r\n    if (start_time === '' || end_time === '' || number === 0 || title === '' || subject_id === '' || exam_id === '') {\r\n      message.error('创建试题内容未填写完全,请确认！')\r\n    } else {\r\n      let result = await addExam({\r\n        \"start_time\": start_time,\r\n        \"end_time\": end_time,\r\n        \"subject_id\": subject_id,\r\n        \"exam_id\": exam_id,\r\n        \"title\": title,\r\n        \"number\": number,\r\n      })\r\n      if (result.code === 1) {\r\n        window.localStorage.setItem('content', JSON.stringify(result.data.questions))\r\n        message.success(result.msg);\r\n        this.props.history.push('/home/exammanager/addExamList')\r\n      }\r\n    }\r\n\r\n  }\r\n  render() {\r\n    let { TypeList, classList, startValue, endValue, endOpen, number, title } = this.state;\r\n    return (\r\n      <div>\r\n        <h2 className=\"adduser-title\">添加考试</h2>\r\n        <div className=\"examManage\">\r\n          <div className=\"examManage-content\">\r\n            <div className=\"examManage-item\">\r\n              *试卷名称:<Input name=\"title\" value={title} onChange={this.handliTnput} />\r\n            </div>\r\n            <div className=\"examManage-item\">\r\n              <p>*选择考试类型:</p>\r\n              <Select defaultValue=\"\" style={{ width: 120 }} onChange={(value: any) => this.handleChange({ value, type: 'exam_id' })}>\r\n                {classList.map((item: any, index: number) => {\r\n                  return <Option key={index} value={item.exam_id}>{item.exam_name}</Option>\r\n                })}\r\n              </Select>\r\n            </div>\r\n            <div className=\"examManage-item\">\r\n              <p>*选择课程:</p>\r\n              <Select defaultValue=\"\" style={{ width: 120 }} onChange={(value: any) => this.handleChange({ value, type: 'subject_id' })}>\r\n                {TypeList.map((item: any, index: number) => {\r\n                  return <Option key={index} value={item.subject_id}>{item.subject_text}</Option>\r\n                })}\r\n              </Select>\r\n            </div>\r\n            <div className=\"examManage-item\">\r\n              <p>*设置题量:</p>\r\n              <InputNumber min={0} max={5} value={number} onChange={this.handliTnputNumber} />\r\n            </div>\r\n            <div className=\"examManage-item\">\r\n              <p>考试时间:</p>\r\n              <div style={{ display: \"flex\" }}>\r\n                <DatePicker\r\n                  showTime\r\n                  format=\"YYYY-MM-DD HH:mm:ss\"\r\n                  placeholder=\"开始时间\"\r\n                  value={startValue}\r\n                  onChange={this.onStartChange}\r\n                  onOpenChange={this.handleStartOpenChange}\r\n                />\r\n                <p style={{ padding: '3px 10px' }}>-</p>\r\n                <DatePicker\r\n                  showTime\r\n                  format=\"YYYY-MM-DD HH:mm:ss\"\r\n                  placeholder=\"结束时间\"\r\n                  value={endValue}\r\n                  onChange={this.onEndChange}\r\n                  open={endOpen}\r\n                  onOpenChange={this.handleEndOpenChange}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"examManage-item\">\r\n              <button className=\"btn\" onClick={this.handAddExam}>创建试卷</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default ExamManage\n\n\n// WEBPACK FOOTER //\n// ./src/views/main/examManager/examManage/examManage.tsx","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/_css-loader@0.28.7@css-loader/index.js??ref--1-oneOf-3-2!../../../../../node_modules/_postcss-loader@2.0.8@postcss-loader/lib/index.js??postcss!./index.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/_style-loader@0.19.0@style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/main/examManager/examManage/index.css\n// module id = 1269\n// module chunks = 5","exports = module.exports = require(\"../../../../../node_modules/_css-loader@0.28.7@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".adduser-title{padding:10px 20px;font-size:24px}.examManage{background:#fff;padding:24px;margin:0 0 20px;border-radius:10px}.examManage-content{width:33%}.examManage-item{font-size:14px;font-variant:tabular-nums;line-height:1.5;color:rgba(0,0,0,.65);-webkit-box-sizing:border-box;box-sizing:border-box;margin:0;padding:0;list-style:none;margin-bottom:24px;vertical-align:top}.btn{padding:15px 40px!important;border-radius:4px!important;border:0!important;font-size:14px!important;color:#fff!important;background:-webkit-gradient(linear,right top,left top,from(#4e75ff),to(#0139fd))!important;background:-webkit-linear-gradient(right,#4e75ff,#0139fd)!important;background:-o-linear-gradient(right,#4e75ff,#0139fd)!important;background:linear-gradient(-90deg,#4e75ff,#0139fd)!important}\", \"\", {\"version\":3,\"sources\":[\"E:/web前端/实训一/1701E/Project4/exam-manger/src/views/main/examManager/examManage/index.css\"],\"names\":[],\"mappings\":\"AAAA,eACI,kBAAmB,AACnB,cAAgB,CACnB,AAED,YACI,gBAA+B,AAC/B,aAAc,AACd,gBAAqB,AACrB,kBAAmB,CACtB,AAED,oBACI,SAAW,CACd,AACD,iBACI,eAAgB,AAChB,0BAA2B,AAC3B,gBAAiB,AACjB,sBAA2B,AAC3B,8BAA+B,AACvB,sBAAuB,AAC/B,SAAU,AACV,UAAW,AACX,gBAAiB,AACjB,mBAAoB,AACpB,kBAAoB,CACvB,AACD,KACI,4BAA6B,AAC7B,4BAA6B,AAC7B,mBAAoB,AACpB,yBAA0B,AAC1B,qBAAsB,AACtB,2FAA6F,AAC7F,oEAAqE,AACrE,+DAAgE,AAChE,4DAA8D,CACjE\",\"file\":\"index.css\",\"sourcesContent\":[\".adduser-title{\\r\\n    padding: 10px 20px;\\r\\n    font-size: 24px;\\r\\n}\\r\\n\\r\\n.examManage{\\r\\n    background: rgb(255, 255, 255);\\r\\n    padding: 24px;\\r\\n    margin: 0px 0px 20px;\\r\\n    border-radius: 10px\\r\\n}\\r\\n\\r\\n.examManage-content{\\r\\n    width: 33%;\\r\\n}\\r\\n.examManage-item{\\r\\n    font-size: 14px;\\r\\n    font-variant: tabular-nums;\\r\\n    line-height: 1.5;\\r\\n    color: rgba(0, 0, 0, 0.65);\\r\\n    -webkit-box-sizing: border-box;\\r\\n            box-sizing: border-box;\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n    list-style: none;\\r\\n    margin-bottom: 24px;\\r\\n    vertical-align: top;\\r\\n}\\r\\n.btn{\\r\\n    padding: 15px 40px!important;\\r\\n    border-radius: 4px!important;\\r\\n    border: 0!important;\\r\\n    font-size: 14px!important;\\r\\n    color: #fff!important;\\r\\n    background: -webkit-gradient(linear,right top, left top,from(#4e75ff),to(#0139fd))!important;\\r\\n    background: -webkit-linear-gradient(right,#4e75ff,#0139fd)!important;\\r\\n    background: -o-linear-gradient(right,#4e75ff,#0139fd)!important;\\r\\n    background: linear-gradient(-90deg,#4e75ff,#0139fd)!important;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_css-loader@0.28.7@css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/_postcss-loader@2.0.8@postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./src/views/main/examManager/examManage/index.css\n// module id = 1270\n// module chunks = 5"],"sourceRoot":""}