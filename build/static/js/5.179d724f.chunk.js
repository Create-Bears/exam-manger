webpackJsonp([5],{1138:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(38),i=n(0),r=(n.n(i),n(426)),s=n(226),o=n(20),l=(n.n(o),n(1269)),m=(n.n(l),r.l.Option),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={TypeList:[],classList:[],startValue:o().startOf(),endValue:o().startOf(),endOpen:!1,start_time:"",end_time:"",subject_id:"",exam_id:"",title:"",number:0,questionListData:[]},t.getList=function(){return Object(a.b)(t,void 0,void 0,function(){var e,t,n,i,r;return Object(a.e)(this,function(a){switch(a.label){case 0:return e=this.props.question,t=e.getQuestionSubject,n=e.getQuestionTypes,[4,t()];case 1:return i=a.sent(),[4,n()];case 2:return r=a.sent(),1===i.code&&this.setState({TypeList:i.data,classList:r.data}),[2]}})})},t.handleChange=function(e){var n,a=e.value,i=e.type;t.setState(((n={})[i]=a,n))},t.onChange=function(e,n){var a;t.setState(((a={})[e]=n,a),function(){t.setState({start_time:+o(t.state.startValue).format("x"),end_time:+o(t.state.endValue).format("x")},function(){console.log(t.state)})})},t.onStartChange=function(e){t.onChange("startValue",e)},t.onEndChange=function(e){t.onChange("endValue",e)},t.handleStartOpenChange=function(e){e||t.setState({endOpen:!0})},t.handleEndOpenChange=function(e){t.setState({endOpen:e})},t.handliTnput=function(e){var n,a=e.target,i=a.name,r=a.value;t.setState(((n={})[i]=r,n))},t.handliTnputNumber=function(e){t.setState({number:e})},t.handAddExam=function(){return Object(a.b)(t,void 0,void 0,function(){var e,t,n,i,s,o,l,m,c;return Object(a.e)(this,function(a){switch(a.label){case 0:return e=this.props.examManger.addExam,t=this.state,n=t.start_time,i=t.end_time,s=t.number,o=t.title,l=t.subject_id,m=t.exam_id,""!==n&&""!==i&&0!==s&&""!==o&&""!==l&&""!==m?[3,1]:(r.o.error("\u521b\u5efa\u8bd5\u9898\u5185\u5bb9\u672a\u586b\u5199\u5b8c\u5168,\u8bf7\u786e\u8ba4\uff01"),[3,3]);case 1:return[4,e({start_time:n,end_time:i,subject_id:l,exam_id:m,title:o,number:s})];case 2:1===(c=a.sent()).code&&(window.localStorage.setItem("content",JSON.stringify(c.data.questions)),r.o.success(c.msg),this.props.history.push("/home/exammanager/addExamList")),a.label=3;case 3:return[2]}})})},t}return Object(a.d)(t,e),t.prototype.componentDidMount=function(){this.getList(),console.log(o().startOf("day"))},t.prototype.render=function(){var e=this,t=this.state,n=t.TypeList,a=t.classList,s=t.startValue,o=t.endValue,l=t.endOpen,c=t.number,d=t.title;return i.createElement("div",null,i.createElement("h2",{className:"adduser-title"},"\u6dfb\u52a0\u8003\u8bd5"),i.createElement("div",{className:"examManage"},i.createElement("div",{className:"examManage-content"},i.createElement("div",{className:"examManage-item"},"*\u8bd5\u5377\u540d\u79f0:",i.createElement(r.g,{name:"title",value:d,onChange:this.handliTnput})),i.createElement("div",{className:"examManage-item"},i.createElement("p",null,"*\u9009\u62e9\u8003\u8bd5\u7c7b\u578b:"),i.createElement(r.l,{defaultValue:"",style:{width:120},onChange:function(t){return e.handleChange({value:t,type:"exam_id"})}},a.map(function(e,t){return i.createElement(m,{key:t,value:e.exam_id},e.exam_name)}))),i.createElement("div",{className:"examManage-item"},i.createElement("p",null,"*\u9009\u62e9\u8bfe\u7a0b:"),i.createElement(r.l,{defaultValue:"",style:{width:120},onChange:function(t){return e.handleChange({value:t,type:"subject_id"})}},n.map(function(e,t){return i.createElement(m,{key:t,value:e.subject_id},e.subject_text)}))),i.createElement("div",{className:"examManage-item"},i.createElement("p",null,"*\u8bbe\u7f6e\u9898\u91cf:"),i.createElement(r.h,{min:0,max:5,value:c,onChange:this.handliTnputNumber})),i.createElement("div",{className:"examManage-item"},i.createElement("p",null,"\u8003\u8bd5\u65f6\u95f4:"),i.createElement("div",{style:{display:"flex"}},i.createElement(r.c,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss",placeholder:"\u5f00\u59cb\u65f6\u95f4",value:s,onChange:this.onStartChange,onOpenChange:this.handleStartOpenChange}),i.createElement("p",{style:{padding:"3px 10px"}},"-"),i.createElement(r.c,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss",placeholder:"\u7ed3\u675f\u65f6\u95f4",value:o,onChange:this.onEndChange,open:l,onOpenChange:this.handleEndOpenChange}))),i.createElement("div",{className:"examManage-item"},i.createElement("button",{className:"btn",onClick:this.handAddExam},"\u521b\u5efa\u8bd5\u5377")))))},t=Object(a.c)([Object(s.b)("question","examManger"),s.c],t)}(i.Component);t.default=c},1269:function(e,t,n){var a=n(1270);"string"===typeof a&&(a=[[e.i,a,""]]);var i={hmr:!1,transform:void 0};n(1128)(a,i);a.locals&&(e.exports=a.locals)},1270:function(e,t,n){(e.exports=n(1127)(!1)).push([e.i,".adduser-title{padding:10px 20px;font-size:24px}.examManage{background:#fff;padding:24px;margin:0 0 20px;border-radius:10px}.examManage-content{width:33%}.examManage-item{font-size:14px;font-variant:tabular-nums;line-height:1.5;color:rgba(0,0,0,.65);-webkit-box-sizing:border-box;box-sizing:border-box;margin:0;padding:0;list-style:none;margin-bottom:24px;vertical-align:top}.btn{padding:15px 40px!important;border-radius:4px!important;border:0!important;font-size:14px!important;color:#fff!important;background:-webkit-gradient(linear,right top,left top,from(#4e75ff),to(#0139fd))!important;background:-webkit-linear-gradient(right,#4e75ff,#0139fd)!important;background:-o-linear-gradient(right,#4e75ff,#0139fd)!important;background:linear-gradient(-90deg,#4e75ff,#0139fd)!important}",""])}});